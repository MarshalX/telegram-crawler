<!DOCTYPE html>
<html class="">
  <head>
    <meta charset="utf-8">
    <title>Paid messages</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="description" content="Telegram Stars can be used to pay for sending messages to users, supergroups and channels that have configured paid messages, requiring a payment for every message sent to them.">
    <meta property="og:title" content="Paid messages">
    <meta property="og:image" content="">
    <meta property="og:description" content="Telegram Stars can be used to pay for sending messages to users, supergroups and channels that have configured paid messages, requiring a payment for every message sent to them.">
    <link rel="icon" type="image/svg+xml" href="/img/website_icon.svg?4">
<link rel="apple-touch-icon" sizes="180x180" href="/img/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/img/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/img/favicon-16x16.png">
<link rel="alternate icon" href="/img/favicon.ico" type="image/x-icon" />
    <link href="/css/bootstrap.min.css?3" rel="stylesheet">
    
    <link href="/css/telegram.css?247" rel="stylesheet" media="screen">
    <style>
    </style>
  </head>
  <body class="preload">
    <div class="dev_page_wrap">
      <div class="dev_page_head navbar navbar-static-top navbar-tg">
        <div class="navbar-inner">
          <div class="container clearfix">
            <ul class="nav navbar-nav navbar-right hidden-xs"><li class="navbar-twitter"><a href="https://twitter.com/telegram" target="_blank" data-track="Follow/Twitter" onclick="trackDlClick(this, event)"><i class="icon icon-twitter"></i><span> Twitter</span></a></li></ul>
            <ul class="nav navbar-nav">
              <li><a href="//telegram.org/">Home</a></li>
<li class="hidden-xs"><a href="//telegram.org/faq">FAQ</a></li>
<li class="hidden-xs"><a href="//telegram.org/apps">Apps</a></li>
<li class="active"><a href="/api">API</a></li>
<li class=""><a href="/mtproto">Protocol</a></li>
<li class=""><a href="/schema">Schema</a></li>
            </ul>
          </div>
        </div>
      </div>
      <div class="container clearfix">
        <div class="dev_page">
          <div id="dev_page_content_wrap" class=" ">
  <div class="dev_page_bread_crumbs"><ul class="breadcrumb clearfix"><li><a  href="/api" >API</a></li><i class="icon icon-breadcrumb-divider"></i><li><a  href="/api/paid-messages" >Paid messages</a></li></ul></div>
  <h1 id="dev_page_title">Paid messages</h1>
  
  <div id="dev_page_content"><!-- scroll_nav -->

<p>Telegram Stars can be used to pay for sending messages to users, supergroups and channels that have configured <a href="https://telegram.org/blog/star-messages-gateway-2-0-and-more#stay-in-control-of-your-inbox-with-star-messages">Star Messages Â»</a>, requiring a payment for every message sent to them.  </p>
<h3><a class="anchor" href="#toggling-paid-messages" id="toggling-paid-messages" name="toggling-paid-messages"><i class="anchor-icon"></i></a>Toggling paid messages</h3>
<pre><code><a href='/constructor/globalPrivacySettings'>globalPrivacySettings</a>#fe41b34f flags:<a href='/type/%23'>#</a> archive_and_mute_new_noncontact_peers:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.0?<a href='/constructor/true'>true</a> keep_archived_unmuted:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.1?<a href='/constructor/true'>true</a> keep_archived_folders:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.2?<a href='/constructor/true'>true</a> hide_read_marks:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.3?<a href='/constructor/true'>true</a> new_noncontact_peers_require_premium:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.4?<a href='/constructor/true'>true</a> display_gifts_button:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.7?<a href='/constructor/true'>true</a> noncontact_peers_paid_stars:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.5?<a href='/type/long'>long</a> disallowed_gifts:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.6?<a href='/type/DisallowedGiftsSettings'>DisallowedGiftsSettings</a> = <a href='/type/GlobalPrivacySettings'>GlobalPrivacySettings</a>;

<a href='/constructor/peerSettings'>peerSettings</a>#f47741f7 flags:<a href='/type/%23'>#</a> report_spam:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.0?<a href='/constructor/true'>true</a> add_contact:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.1?<a href='/constructor/true'>true</a> block_contact:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.2?<a href='/constructor/true'>true</a> share_contact:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.3?<a href='/constructor/true'>true</a> need_contacts_exception:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.4?<a href='/constructor/true'>true</a> report_geo:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.5?<a href='/constructor/true'>true</a> autoarchived:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.7?<a href='/constructor/true'>true</a> invite_members:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.8?<a href='/constructor/true'>true</a> request_chat_broadcast:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.10?<a href='/constructor/true'>true</a> business_bot_paused:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.11?<a href='/constructor/true'>true</a> business_bot_can_reply:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.12?<a href='/constructor/true'>true</a> geo_distance:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.6?<a href='/type/int'>int</a> request_chat_title:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.9?<a href='/type/string'>string</a> request_chat_date:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.9?<a href='/type/int'>int</a> business_bot_id:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.13?<a href='/type/long'>long</a> business_bot_manage_url:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.13?<a href='/type/string'>string</a> charge_paid_message_stars:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.14?<a href='/type/long'>long</a> registration_month:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.15?<a href='/type/string'>string</a> phone_country:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.16?<a href='/type/string'>string</a> name_change_date:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.17?<a href='/type/int'>int</a> photo_change_date:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.18?<a href='/type/int'>int</a> = <a href='/type/PeerSettings'>PeerSettings</a>;

<a href='/constructor/inputPrivacyKeyNoPaidMessages'>inputPrivacyKeyNoPaidMessages</a>#bdc597b4 = <a href='/type/InputPrivacyKey'>InputPrivacyKey</a>;

<a href='/constructor/privacyKeyNoPaidMessages'>privacyKeyNoPaidMessages</a>#17d348d2 = <a href='/type/PrivacyKey'>PrivacyKey</a>;

<a href='/constructor/account.paidMessagesRevenue'>account.paidMessagesRevenue</a>#1e109708 stars_amount:<a href='/type/long'>long</a> = <a href='/type/account.PaidMessagesRevenue'>account.PaidMessagesRevenue</a>;

<a href='/constructor/messageActionPaidMessagesRefunded'>messageActionPaidMessagesRefunded</a>#ac1f1fcd count:<a href='/type/int'>int</a> stars:<a href='/type/long'>long</a> = <a href='/type/MessageAction'>MessageAction</a>;

<a href='/constructor/messageActionPaidMessagesPrice'>messageActionPaidMessagesPrice</a>#84b88578 flags:<a href='/type/%23'>#</a> broadcast_messages_allowed:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.0?<a href='/constructor/true'>true</a> stars:<a href='/type/long'>long</a> = <a href='/type/MessageAction'>MessageAction</a>;

<a href='/constructor/updateMonoForumNoPaidException'>updateMonoForumNoPaidException</a>#9f812b08 flags:<a href='/type/%23'>#</a> exception:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.0?<a href='/constructor/true'>true</a> channel_id:<a href='/type/long'>long</a> saved_peer_id:<a href='/type/Peer'>Peer</a> = <a href='/type/Update'>Update</a>;

---functions---

<a href='/method/account.setGlobalPrivacySettings'>account.setGlobalPrivacySettings</a>#1edaaac2 settings:<a href='/type/GlobalPrivacySettings'>GlobalPrivacySettings</a> = <a href='/type/GlobalPrivacySettings'>GlobalPrivacySettings</a>;
<a href='/method/channels.updatePaidMessagesPrice'>channels.updatePaidMessagesPrice</a>#4b12327b flags:<a href='/type/%23'>#</a> broadcast_messages_allowed:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.0?<a href='/constructor/true'>true</a> channel:<a href='/type/InputChannel'>InputChannel</a> send_paid_messages_stars:<a href='/type/long'>long</a> = <a href='/type/Updates'>Updates</a>;

<a href='/method/account.toggleNoPaidMessagesException'>account.toggleNoPaidMessagesException</a>#fe2eda76 flags:<a href='/type/%23'>#</a> refund_charged:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.0?<a href='/constructor/true'>true</a> require_payment:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.2?<a href='/constructor/true'>true</a> parent_peer:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.1?<a href='/type/InputPeer'>InputPeer</a> user_id:<a href='/type/InputUser'>InputUser</a> = <a href='/type/Bool'>Bool</a>;

<a href='/method/messages.getPeerSettings'>messages.getPeerSettings</a>#efd9a6a2 peer:<a href='/type/InputPeer'>InputPeer</a> = <a href='/type/messages.PeerSettings'>messages.PeerSettings</a>;

<a href='/method/account.getPaidMessagesRevenue'>account.getPaidMessagesRevenue</a>#19ba4a67 flags:<a href='/type/%23'>#</a> parent_peer:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.0?<a href='/type/InputPeer'>InputPeer</a> user_id:<a href='/type/InputUser'>InputUser</a> = <a href='/type/account.PaidMessagesRevenue'>account.PaidMessagesRevenue</a>;</code></pre>
<p>The amount of stars required to send us messages can be specified:</p>
<ul>
<li>For private messages to us, in the <a href="/constructor/globalPrivacySettings">globalPrivacySettings</a>.<code>noncontact_peers_paid_stars</code> <a href="/api/privacy#global-privacy-settings">global privacy setting</a>; can be toggled only if <a href="/api/config#stars-paid-messages-available">stars_paid_messages_available</a> is equal to true.</li>
<li>For <a href="/api/channel">supergroups and direct messages to channels</a>, using <a href="/method/channels.updatePaidMessagesPrice">channels.updatePaidMessagesPrice</a>.<br>
When choosing the price for <a href="/api/monoforum">direct channel messages</a>, the UI should display <a href="/api/config#stars-paid-messages-channel-amount-default">stars_paid_messages_channel_amount_default Â»</a> as the initial default value.  </li>
</ul>
<p>The maximum allowed amount of stars is specified in <a href="/api/config#stars-paid-message-amount-max">stars_paid_message_amount_max Â»</a>.  </p>
<p>After enabling paid messages, the only users that won't be required to pay to send us a message are:</p>
<ul>
<li>
<p>For private messages:  </p>
<ul>
<li>Users that are in our contact list</li>
<li>Users that we have messaged first</li>
<li>Users we have explicitly exempted from paying using the <a href="/constructor/inputPrivacyKeyNoPaidMessages">inputPrivacyKeyNoPaidMessages</a> <a href="/api/privacy">privacy setting Â»</a> with <a href="/constructor/inputPrivacyValueAllowUsers">inputPrivacyValueAllowUsers</a>.<br>
Note that we can also exempt from payment all users that contact us for the first time through one of our messages in a chat using <a href="/constructor/inputPrivacyValueAllowChatParticipants">inputPrivacyValueAllowChatParticipants</a> (implemented using <a href="/api/min">min locations Â»</a>).  </li>
<li>Users we have explicitly exempted from paying using <a href="/method/account.toggleNoPaidMessagesException">account.toggleNoPaidMessagesException</a>: this is just another way to edit the <a href="/constructor/inputPrivacyKeyNoPaidMessages">inputPrivacyKeyNoPaidMessages</a> privacy allowlist for individual peers, without fetching the full current list.<br>
Note that this method can only add users to the <a href="/constructor/inputPrivacyValueAllowUsers">inputPrivacyValueAllowUsers</a> allowlist, not remove them.  </li>
</ul>
<p>All users that must pay to send us private messages will have the <a href="/constructor/peerSettings">peerSettings</a>.<code>charge_paid_message_stars</code> flag set <em>only for us</em>, containing the amount of required stars.  </p>
</li>
<li>
<p>For supergroups:</p>
<ul>
<li>Administrators, only if <a href="/constructor/channelFull">channelFull</a>.<code>paid_messages_available</code> is set.</li>
</ul>
</li>
<li>
<p>For <a href="/api/monoforum">direct messages to a channel aka monoforums Â»</a>:</p>
<ul>
<li>Users we have explicitly exempted from paying using <a href="/method/account.toggleNoPaidMessagesException">account.toggleNoPaidMessagesException</a> with <code>parent_peer</code> set to the ID of the monoforum.<br>
Exempted users will have the <a href="/constructor/monoForumDialog">monoForumDialog</a>.<code>nopaid_messages_exception</code> flag set, and changes will emit an <a href="/constructor/updateMonoForumNoPaidException">updateMonoForumNoPaidException</a> to other monoforum admins and to other sessions of the currently logged in monoforum admin.<br>
Note that unlike for users, when acting on monoforums this method can both add and remove users from the allowlist.  </li>
</ul>
</li>
</ul>
<p>Enabling, disabling or changing the price of paid messages will emit a <a href="/constructor/messageActionPaidMessagesPrice">messageActionPaidMessagesPrice</a> service message to the related private chat, supergroup or channel (the latter for direct messages in the associated monoforum).  </p>
<p>The amount of received stars will be equal to the sent amount multiplied by <a href="/api/config#stars-paid-message-commission-permille">stars_paid_message_commission_permille Â»</a> divided by 1000.  </p>
<p><a href="/method/account.getPaidMessagesRevenue">account.getPaidMessagesRevenue</a> can be used to fetch the total number of non-refunded Telegram Stars a user has spent on sending us messages either directly or through a channel, according to the value of <code>parent_peer</code>.</p>
<p>When using <a href="/method/account.toggleNoPaidMessagesException">account.toggleNoPaidMessagesException</a>, the <code>refund_charged</code> flag may be set to refund all the not yet refunded stars the user has already paid us to send us messages (directly or via a monoforum; the exact number can be fetched using <a href="/method/account.getPaidMessagesRevenue">account.getPaidMessagesRevenue</a>): this will emit an <a href="/constructor/messageActionPaidMessagesRefunded">messageActionPaidMessagesRefunded</a> service message.  </p>
<h3><a class="anchor" href="#sending-paid-messages" id="sending-paid-messages" name="sending-paid-messages"><i class="anchor-icon"></i></a>Sending paid messages</h3>
<pre><code><a href='/constructor/user'>user</a>#20b1422 flags:<a href='/type/%23'>#</a> self:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.10?<a href='/constructor/true'>true</a> contact:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.11?<a href='/constructor/true'>true</a> mutual_contact:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.12?<a href='/constructor/true'>true</a> deleted:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.13?<a href='/constructor/true'>true</a> bot:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.14?<a href='/constructor/true'>true</a> bot_chat_history:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.15?<a href='/constructor/true'>true</a> bot_nochats:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.16?<a href='/constructor/true'>true</a> verified:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.17?<a href='/constructor/true'>true</a> restricted:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.18?<a href='/constructor/true'>true</a> min:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.20?<a href='/constructor/true'>true</a> bot_inline_geo:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.21?<a href='/constructor/true'>true</a> support:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.23?<a href='/constructor/true'>true</a> scam:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.24?<a href='/constructor/true'>true</a> apply_min_photo:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.25?<a href='/constructor/true'>true</a> fake:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.26?<a href='/constructor/true'>true</a> bot_attach_menu:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.27?<a href='/constructor/true'>true</a> premium:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.28?<a href='/constructor/true'>true</a> attach_menu_enabled:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.29?<a href='/constructor/true'>true</a> flags2:<a href='/type/%23'>#</a> bot_can_edit:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.1?<a href='/constructor/true'>true</a> close_friend:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.2?<a href='/constructor/true'>true</a> stories_hidden:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.3?<a href='/constructor/true'>true</a> stories_unavailable:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.4?<a href='/constructor/true'>true</a> contact_require_premium:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.10?<a href='/constructor/true'>true</a> bot_business:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.11?<a href='/constructor/true'>true</a> bot_has_main_app:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.13?<a href='/constructor/true'>true</a> id:<a href='/type/long'>long</a> access_hash:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.0?<a href='/type/long'>long</a> first_name:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.1?<a href='/type/string'>string</a> last_name:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.2?<a href='/type/string'>string</a> username:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.3?<a href='/type/string'>string</a> phone:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.4?<a href='/type/string'>string</a> photo:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.5?<a href='/type/UserProfilePhoto'>UserProfilePhoto</a> status:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.6?<a href='/type/UserStatus'>UserStatus</a> bot_info_version:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.14?<a href='/type/int'>int</a> restriction_reason:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.18?<a href='/type/Vector%20t'>Vector</a>&lt;<a href='/type/RestrictionReason'>RestrictionReason</a>&gt; bot_inline_placeholder:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.19?<a href='/type/string'>string</a> lang_code:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.22?<a href='/type/string'>string</a> emoji_status:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.30?<a href='/type/EmojiStatus'>EmojiStatus</a> usernames:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.0?<a href='/type/Vector%20t'>Vector</a>&lt;<a href='/type/Username'>Username</a>&gt; stories_max_id:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.5?<a href='/type/int'>int</a> color:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.8?<a href='/type/PeerColor'>PeerColor</a> profile_color:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.9?<a href='/type/PeerColor'>PeerColor</a> bot_active_users:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.12?<a href='/type/int'>int</a> bot_verification_icon:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.14?<a href='/type/long'>long</a> send_paid_messages_stars:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.15?<a href='/type/long'>long</a> = <a href='/type/User'>User</a>;
<a href='/constructor/channel'>channel</a>#fe685355 flags:<a href='/type/%23'>#</a> creator:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.0?<a href='/constructor/true'>true</a> left:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.2?<a href='/constructor/true'>true</a> broadcast:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.5?<a href='/constructor/true'>true</a> verified:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.7?<a href='/constructor/true'>true</a> megagroup:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.8?<a href='/constructor/true'>true</a> restricted:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.9?<a href='/constructor/true'>true</a> signatures:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.11?<a href='/constructor/true'>true</a> min:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.12?<a href='/constructor/true'>true</a> scam:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.19?<a href='/constructor/true'>true</a> has_link:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.20?<a href='/constructor/true'>true</a> has_geo:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.21?<a href='/constructor/true'>true</a> slowmode_enabled:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.22?<a href='/constructor/true'>true</a> call_active:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.23?<a href='/constructor/true'>true</a> call_not_empty:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.24?<a href='/constructor/true'>true</a> fake:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.25?<a href='/constructor/true'>true</a> gigagroup:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.26?<a href='/constructor/true'>true</a> noforwards:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.27?<a href='/constructor/true'>true</a> join_to_send:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.28?<a href='/constructor/true'>true</a> join_request:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.29?<a href='/constructor/true'>true</a> forum:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.30?<a href='/constructor/true'>true</a> flags2:<a href='/type/%23'>#</a> stories_hidden:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.1?<a href='/constructor/true'>true</a> stories_hidden_min:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.2?<a href='/constructor/true'>true</a> stories_unavailable:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.3?<a href='/constructor/true'>true</a> signature_profiles:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.12?<a href='/constructor/true'>true</a> autotranslation:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.15?<a href='/constructor/true'>true</a> broadcast_messages_allowed:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.16?<a href='/constructor/true'>true</a> monoforum:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.17?<a href='/constructor/true'>true</a> forum_tabs:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.19?<a href='/constructor/true'>true</a> id:<a href='/type/long'>long</a> access_hash:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.13?<a href='/type/long'>long</a> title:<a href='/type/string'>string</a> username:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.6?<a href='/type/string'>string</a> photo:<a href='/type/ChatPhoto'>ChatPhoto</a> date:<a href='/type/int'>int</a> restriction_reason:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.9?<a href='/type/Vector%20t'>Vector</a>&lt;<a href='/type/RestrictionReason'>RestrictionReason</a>&gt; admin_rights:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.14?<a href='/type/ChatAdminRights'>ChatAdminRights</a> banned_rights:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.15?<a href='/type/ChatBannedRights'>ChatBannedRights</a> default_banned_rights:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.18?<a href='/type/ChatBannedRights'>ChatBannedRights</a> participants_count:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.17?<a href='/type/int'>int</a> usernames:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.0?<a href='/type/Vector%20t'>Vector</a>&lt;<a href='/type/Username'>Username</a>&gt; stories_max_id:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.4?<a href='/type/int'>int</a> color:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.7?<a href='/type/PeerColor'>PeerColor</a> profile_color:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.8?<a href='/type/PeerColor'>PeerColor</a> emoji_status:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.9?<a href='/type/EmojiStatus'>EmojiStatus</a> level:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.10?<a href='/type/int'>int</a> subscription_until_date:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.11?<a href='/type/int'>int</a> bot_verification_icon:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.13?<a href='/type/long'>long</a> send_paid_messages_stars:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.14?<a href='/type/long'>long</a> linked_monoforum_id:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.18?<a href='/type/long'>long</a> = <a href='/type/Chat'>Chat</a>;
<a href='/constructor/userFull'>userFull</a>#c577b5ad flags:<a href='/type/%23'>#</a> blocked:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.0?<a href='/constructor/true'>true</a> phone_calls_available:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.4?<a href='/constructor/true'>true</a> phone_calls_private:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.5?<a href='/constructor/true'>true</a> can_pin_message:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.7?<a href='/constructor/true'>true</a> has_scheduled:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.12?<a href='/constructor/true'>true</a> video_calls_available:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.13?<a href='/constructor/true'>true</a> voice_messages_forbidden:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.20?<a href='/constructor/true'>true</a> translations_disabled:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.23?<a href='/constructor/true'>true</a> stories_pinned_available:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.26?<a href='/constructor/true'>true</a> blocked_my_stories_from:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.27?<a href='/constructor/true'>true</a> wallpaper_overridden:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.28?<a href='/constructor/true'>true</a> contact_require_premium:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.29?<a href='/constructor/true'>true</a> read_dates_private:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.30?<a href='/constructor/true'>true</a> flags2:<a href='/type/%23'>#</a> sponsored_enabled:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.7?<a href='/constructor/true'>true</a> can_view_revenue:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.9?<a href='/constructor/true'>true</a> bot_can_manage_emoji_status:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.10?<a href='/constructor/true'>true</a> display_gifts_button:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.16?<a href='/constructor/true'>true</a> id:<a href='/type/long'>long</a> about:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.1?<a href='/type/string'>string</a> settings:<a href='/type/PeerSettings'>PeerSettings</a> personal_photo:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.21?<a href='/type/Photo'>Photo</a> profile_photo:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.2?<a href='/type/Photo'>Photo</a> fallback_photo:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.22?<a href='/type/Photo'>Photo</a> notify_settings:<a href='/type/PeerNotifySettings'>PeerNotifySettings</a> bot_info:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.3?<a href='/type/BotInfo'>BotInfo</a> pinned_msg_id:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.6?<a href='/type/int'>int</a> common_chats_count:<a href='/type/int'>int</a> folder_id:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.11?<a href='/type/int'>int</a> ttl_period:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.14?<a href='/type/int'>int</a> theme:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.15?<a href='/type/ChatTheme'>ChatTheme</a> private_forward_name:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.16?<a href='/type/string'>string</a> bot_group_admin_rights:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.17?<a href='/type/ChatAdminRights'>ChatAdminRights</a> bot_broadcast_admin_rights:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.18?<a href='/type/ChatAdminRights'>ChatAdminRights</a> wallpaper:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.24?<a href='/type/WallPaper'>WallPaper</a> stories:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.25?<a href='/type/PeerStories'>PeerStories</a> business_work_hours:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.0?<a href='/type/BusinessWorkHours'>BusinessWorkHours</a> business_location:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.1?<a href='/type/BusinessLocation'>BusinessLocation</a> business_greeting_message:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.2?<a href='/type/BusinessGreetingMessage'>BusinessGreetingMessage</a> business_away_message:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.3?<a href='/type/BusinessAwayMessage'>BusinessAwayMessage</a> business_intro:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.4?<a href='/type/BusinessIntro'>BusinessIntro</a> birthday:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.5?<a href='/type/Birthday'>Birthday</a> personal_channel_id:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.6?<a href='/type/long'>long</a> personal_channel_message:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.6?<a href='/type/int'>int</a> stargifts_count:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.8?<a href='/type/int'>int</a> starref_program:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.11?<a href='/type/StarRefProgram'>StarRefProgram</a> bot_verification:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.12?<a href='/type/BotVerification'>BotVerification</a> send_paid_messages_stars:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.14?<a href='/type/long'>long</a> disallowed_gifts:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.15?<a href='/type/DisallowedGiftsSettings'>DisallowedGiftsSettings</a> stars_rating:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.17?<a href='/type/StarsRating'>StarsRating</a> stars_my_pending_rating:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.18?<a href='/type/StarsRating'>StarsRating</a> stars_my_pending_rating_date:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.18?<a href='/type/int'>int</a> main_tab:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.20?<a href='/type/ProfileTab'>ProfileTab</a> saved_music:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.21?<a href='/type/Document'>Document</a> = <a href='/type/UserFull'>UserFull</a>;

<a href='/constructor/message'>message</a>#9815cec8 flags:<a href='/type/%23'>#</a> out:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.1?<a href='/constructor/true'>true</a> mentioned:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.4?<a href='/constructor/true'>true</a> media_unread:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.5?<a href='/constructor/true'>true</a> silent:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.13?<a href='/constructor/true'>true</a> post:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.14?<a href='/constructor/true'>true</a> from_scheduled:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.18?<a href='/constructor/true'>true</a> legacy:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.19?<a href='/constructor/true'>true</a> edit_hide:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.21?<a href='/constructor/true'>true</a> pinned:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.24?<a href='/constructor/true'>true</a> noforwards:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.26?<a href='/constructor/true'>true</a> invert_media:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.27?<a href='/constructor/true'>true</a> flags2:<a href='/type/%23'>#</a> offline:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.1?<a href='/constructor/true'>true</a> video_processing_pending:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.4?<a href='/constructor/true'>true</a> paid_suggested_post_stars:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.8?<a href='/constructor/true'>true</a> paid_suggested_post_ton:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.9?<a href='/constructor/true'>true</a> id:<a href='/type/int'>int</a> from_id:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.8?<a href='/type/Peer'>Peer</a> from_boosts_applied:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.29?<a href='/type/int'>int</a> peer_id:<a href='/type/Peer'>Peer</a> saved_peer_id:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.28?<a href='/type/Peer'>Peer</a> fwd_from:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.2?<a href='/type/MessageFwdHeader'>MessageFwdHeader</a> via_bot_id:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.11?<a href='/type/long'>long</a> via_business_bot_id:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.0?<a href='/type/long'>long</a> reply_to:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.3?<a href='/type/MessageReplyHeader'>MessageReplyHeader</a> date:<a href='/type/int'>int</a> message:<a href='/type/string'>string</a> media:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.9?<a href='/type/MessageMedia'>MessageMedia</a> reply_markup:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.6?<a href='/type/ReplyMarkup'>ReplyMarkup</a> entities:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.7?<a href='/type/Vector%20t'>Vector</a>&lt;<a href='/type/MessageEntity'>MessageEntity</a>&gt; views:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.10?<a href='/type/int'>int</a> forwards:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.10?<a href='/type/int'>int</a> replies:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.23?<a href='/type/MessageReplies'>MessageReplies</a> edit_date:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.15?<a href='/type/int'>int</a> post_author:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.16?<a href='/type/string'>string</a> grouped_id:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.17?<a href='/type/long'>long</a> reactions:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.20?<a href='/type/MessageReactions'>MessageReactions</a> restriction_reason:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.22?<a href='/type/Vector%20t'>Vector</a>&lt;<a href='/type/RestrictionReason'>RestrictionReason</a>&gt; ttl_period:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.25?<a href='/type/int'>int</a> quick_reply_shortcut_id:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.30?<a href='/type/int'>int</a> effect:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.2?<a href='/type/long'>long</a> factcheck:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.3?<a href='/type/FactCheck'>FactCheck</a> report_delivery_until_date:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.5?<a href='/type/int'>int</a> paid_message_stars:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.6?<a href='/type/long'>long</a> suggested_post:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.7?<a href='/type/SuggestedPost'>SuggestedPost</a> = <a href='/type/Message'>Message</a>;

---functions---

<a href='/method/users.getRequirementsToContact'>users.getRequirementsToContact</a>#d89a83a3 id:<a href='/type/Vector%20t'>Vector</a>&lt;<a href='/type/InputUser'>InputUser</a>&gt; = <a href='/type/Vector%20t'>Vector</a>&lt;<a href='/type/RequirementToContact'>RequirementToContact</a>&gt;;

<a href='/method/messages.sendMessage'>messages.sendMessage</a>#fe05dc9a flags:<a href='/type/%23'>#</a> no_webpage:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.1?<a href='/constructor/true'>true</a> silent:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.5?<a href='/constructor/true'>true</a> background:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.6?<a href='/constructor/true'>true</a> clear_draft:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.7?<a href='/constructor/true'>true</a> noforwards:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.14?<a href='/constructor/true'>true</a> update_stickersets_order:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.15?<a href='/constructor/true'>true</a> invert_media:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.16?<a href='/constructor/true'>true</a> allow_paid_floodskip:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.19?<a href='/constructor/true'>true</a> peer:<a href='/type/InputPeer'>InputPeer</a> reply_to:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.0?<a href='/type/InputReplyTo'>InputReplyTo</a> message:<a href='/type/string'>string</a> random_id:<a href='/type/long'>long</a> reply_markup:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.2?<a href='/type/ReplyMarkup'>ReplyMarkup</a> entities:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.3?<a href='/type/Vector%20t'>Vector</a>&lt;<a href='/type/MessageEntity'>MessageEntity</a>&gt; schedule_date:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.10?<a href='/type/int'>int</a> send_as:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.13?<a href='/type/InputPeer'>InputPeer</a> quick_reply_shortcut:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.17?<a href='/type/InputQuickReplyShortcut'>InputQuickReplyShortcut</a> effect:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.18?<a href='/type/long'>long</a> allow_paid_stars:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.21?<a href='/type/long'>long</a> suggested_post:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.22?<a href='/type/SuggestedPost'>SuggestedPost</a> = <a href='/type/Updates'>Updates</a>;
<a href='/method/messages.sendMedia'>messages.sendMedia</a>#ac55d9c1 flags:<a href='/type/%23'>#</a> silent:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.5?<a href='/constructor/true'>true</a> background:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.6?<a href='/constructor/true'>true</a> clear_draft:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.7?<a href='/constructor/true'>true</a> noforwards:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.14?<a href='/constructor/true'>true</a> update_stickersets_order:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.15?<a href='/constructor/true'>true</a> invert_media:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.16?<a href='/constructor/true'>true</a> allow_paid_floodskip:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.19?<a href='/constructor/true'>true</a> peer:<a href='/type/InputPeer'>InputPeer</a> reply_to:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.0?<a href='/type/InputReplyTo'>InputReplyTo</a> media:<a href='/type/InputMedia'>InputMedia</a> message:<a href='/type/string'>string</a> random_id:<a href='/type/long'>long</a> reply_markup:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.2?<a href='/type/ReplyMarkup'>ReplyMarkup</a> entities:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.3?<a href='/type/Vector%20t'>Vector</a>&lt;<a href='/type/MessageEntity'>MessageEntity</a>&gt; schedule_date:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.10?<a href='/type/int'>int</a> send_as:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.13?<a href='/type/InputPeer'>InputPeer</a> quick_reply_shortcut:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.17?<a href='/type/InputQuickReplyShortcut'>InputQuickReplyShortcut</a> effect:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.18?<a href='/type/long'>long</a> allow_paid_stars:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.21?<a href='/type/long'>long</a> suggested_post:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.22?<a href='/type/SuggestedPost'>SuggestedPost</a> = <a href='/type/Updates'>Updates</a>;
<a href='/method/messages.forwardMessages'>messages.forwardMessages</a>#978928ca flags:<a href='/type/%23'>#</a> silent:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.5?<a href='/constructor/true'>true</a> background:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.6?<a href='/constructor/true'>true</a> with_my_score:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.8?<a href='/constructor/true'>true</a> drop_author:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.11?<a href='/constructor/true'>true</a> drop_media_captions:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.12?<a href='/constructor/true'>true</a> noforwards:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.14?<a href='/constructor/true'>true</a> allow_paid_floodskip:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.19?<a href='/constructor/true'>true</a> from_peer:<a href='/type/InputPeer'>InputPeer</a> id:<a href='/type/Vector%20t'>Vector</a>&lt;<a href='/type/int'>int</a>&gt; random_id:<a href='/type/Vector%20t'>Vector</a>&lt;<a href='/type/long'>long</a>&gt; to_peer:<a href='/type/InputPeer'>InputPeer</a> top_msg_id:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.9?<a href='/type/int'>int</a> reply_to:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.22?<a href='/type/InputReplyTo'>InputReplyTo</a> schedule_date:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.10?<a href='/type/int'>int</a> send_as:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.13?<a href='/type/InputPeer'>InputPeer</a> quick_reply_shortcut:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.17?<a href='/type/InputQuickReplyShortcut'>InputQuickReplyShortcut</a> video_timestamp:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.20?<a href='/type/int'>int</a> allow_paid_stars:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.21?<a href='/type/long'>long</a> suggested_post:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.23?<a href='/type/SuggestedPost'>SuggestedPost</a> = <a href='/type/Updates'>Updates</a>;
<a href='/method/messages.sendInlineBotResult'>messages.sendInlineBotResult</a>#c0cf7646 flags:<a href='/type/%23'>#</a> silent:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.5?<a href='/constructor/true'>true</a> background:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.6?<a href='/constructor/true'>true</a> clear_draft:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.7?<a href='/constructor/true'>true</a> hide_via:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.11?<a href='/constructor/true'>true</a> peer:<a href='/type/InputPeer'>InputPeer</a> reply_to:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.0?<a href='/type/InputReplyTo'>InputReplyTo</a> random_id:<a href='/type/long'>long</a> query_id:<a href='/type/long'>long</a> id:<a href='/type/string'>string</a> schedule_date:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.10?<a href='/type/int'>int</a> send_as:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.13?<a href='/type/InputPeer'>InputPeer</a> quick_reply_shortcut:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.17?<a href='/type/InputQuickReplyShortcut'>InputQuickReplyShortcut</a> allow_paid_stars:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.21?<a href='/type/long'>long</a> = <a href='/type/Updates'>Updates</a>;
<a href='/method/messages.sendMultiMedia'>messages.sendMultiMedia</a>#1bf89d74 flags:<a href='/type/%23'>#</a> silent:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.5?<a href='/constructor/true'>true</a> background:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.6?<a href='/constructor/true'>true</a> clear_draft:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.7?<a href='/constructor/true'>true</a> noforwards:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.14?<a href='/constructor/true'>true</a> update_stickersets_order:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.15?<a href='/constructor/true'>true</a> invert_media:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.16?<a href='/constructor/true'>true</a> allow_paid_floodskip:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.19?<a href='/constructor/true'>true</a> peer:<a href='/type/InputPeer'>InputPeer</a> reply_to:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.0?<a href='/type/InputReplyTo'>InputReplyTo</a> multi_media:<a href='/type/Vector%20t'>Vector</a>&lt;<a href='/type/InputSingleMedia'>InputSingleMedia</a>&gt; schedule_date:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.10?<a href='/type/int'>int</a> send_as:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.13?<a href='/type/InputPeer'>InputPeer</a> quick_reply_shortcut:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.17?<a href='/type/InputQuickReplyShortcut'>InputQuickReplyShortcut</a> effect:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.18?<a href='/type/long'>long</a> allow_paid_stars:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.21?<a href='/type/long'>long</a> = <a href='/type/Updates'>Updates</a>;</code></pre>
<p>Anyone wishing to send a message to a peer that has <a href="#toggling-paid-messages">configured paid messages, Â»</a> must pay the required amount of <a href="/api/stars">Telegram Stars Â»</a> by specifying the required amount in the <code>allow_paid_stars</code> parameter of <a href="/method/messages.sendMessage">messages.sendMessage</a>, and all other methods used to send or forward messages.  </p>
<p>To check if a peer requires payment to receive messages, check if the following flags are present:</p>
<ul>
<li><a href="/constructor/user">user</a>.<code>send_paid_messages_stars</code> for users</li>
<li><a href="/constructor/channel">channel</a>.<code>send_paid_messages_stars</code> for monoforums (only for the ID of the monoforum, not for the ID of the associated channel)</li>
</ul>
<p>These flags will contain the required amount of <a href="/api/stars">Stars</a> to send that peer a message.  </p>
<p>Note, however, that the above flags do not indicate if we were explicitly exempted from paying <a href="#toggling-paid-messages">for any of the reasons specified above Â»</a>: this information is contained in:</p>
<ul>
<li><a href="/constructor/userFull">userFull</a>.<code>send_paid_messages_stars</code> for users</li>
<li><a href="/constructor/channelFull">channelFull</a>.<code>send_paid_messages_stars</code> for monoforums (both for the ID of the monoforum, and for the ID of the associated channel)</li>
</ul>
<p>These flags will contain the required amount of <a href="/api/stars">Stars</a> to send that peer a message, or <code>0</code> (the flag will be set) if we were exempted; the flag won't be set for peers that don't require payment to receive messages.  </p>
<p>If not already cached, the <a href="/constructor/userFull">userFull</a>/<a href="/constructor/channelFull">channelFull</a> constructors should only be fetched:</p>
<ul>
<li>If <a href="/constructor/user">user</a>.<code>send_paid_messages_stars</code>/<a href="/constructor/channel">channel</a>.<code>send_paid_messages_stars</code> are set AND</li>
<li>The client is currently displaying a message bar in a private chat with the user/direct message to the specified monoforum, or another UI element involved in sending a message to a peer.  </li>
</ul>
<p>If the client needs to obtain the <code>send_paid_messages_stars</code> flag of multiple users in bulk, for example when example while displaying the chat list in the sharing UI (to display a currency sign near the avatar of each user that requires payment, with an appropriate informative tooltip), the <a href="/method/users.getRequirementsToContact">users.getRequirementsToContact</a> method may be invoked instead, passing the list of users currently visible in the UI, returning a list of conditions (including <a href="/constructor/requirementToContactPaidMessages">requirementToContactPaidMessages</a> with the value of the flag); this method can't be used for monoforums, which should use <a href="/method/channels.getFullChannel">channels.getFullChannel</a> as usual (if not already cached).  </p>
<p>Note that <a href="/method/users.getRequirementsToContact">users.getRequirementsToContact</a> should only be invoked for users whose full info (<a href="/constructor/userFull">userFull</a>/<a href="/constructor/channelFull">channelFull</a>) is not cached yet, as the same info can be computed locally if all the mentioned information is available.<br>
Also, it cannot be used for supergroups and monoforums, fetch the full <a href="/constructor/channelFull">channelFull</a> for those, instead (if uncached, alternatively to avoid making too many queries, simply handle the <code>ALLOW_PAYMENT_REQUIRED_%d</code> that will occur when sending messages to a paid monoforum without paying).  </p>
<p>If paid messages are enabled but the flag isn't set, or if the amount passed in <code>allow_paid_stars</code> is smaller than the required amount (for example, the required amount was changed and an update notifying the change wasn't received yet), a <code>ALLOW_PAYMENT_REQUIRED_%d</code> RPC error with code 403 will be emitted when attempting to send a message, with <code>%d</code> indicating the correct required amount of stars.<br>
Additionally, if the amount passed in <code>allow_paid_stars</code> is bigger than the actually required amount (again, if the required amount was recently changed), only the actually required amount of stars (or no stars, if paid messages were disabled) will be charged.  </p>
<p>The amount of stars the <strong>sender has paid</strong> (i.e. not the amount received, the flag will be the same for both sender and receiver regardless of <a href="/api/config#stars-paid-message-commission-permille">stars_paid_message_commission_permille Â»</a>) will be specified in the <a href="/constructor/message">message</a>.<code>paid_message_stars</code> flag.</p></div>
  
</div>
          
        </div>
      </div>
      <div class="footer_wrap">
  <div class="footer_columns_wrap footer_desktop">
    <div class="footer_column footer_column_telegram">
      <h5>Telegram</h5>
      <div class="footer_telegram_description"></div>
      Telegram is a cloud-based mobile and desktop messaging app with a focus on security and speed.
    </div>

    <div class="footer_column">
      <h5><a href="//telegram.org/faq">About</a></h5>
      <ul>
        <li><a href="//telegram.org/faq">FAQ</a></li>
        <li><a href="//telegram.org/privacy">Privacy</a></li>
        <li><a href="//telegram.org/press">Press</a></li>
      </ul>
    </div>
    <div class="footer_column">
      <h5><a href="//telegram.org/apps#mobile-apps">Mobile Apps</a></h5>
      <ul>
        <li><a href="//telegram.org/dl/ios">iPhone/iPad</a></li>
        <li><a href="//telegram.org/android">Android</a></li>
        <li><a href="//telegram.org/dl/web">Mobile Web</a></li>
      </ul>
    </div>
    <div class="footer_column">
      <h5><a href="//telegram.org/apps#desktop-apps">Desktop Apps</a></h5>
      <ul>
        <li><a href="//desktop.telegram.org/">PC/Mac/Linux</a></li>
        <li><a href="//macos.telegram.org/">macOS</a></li>
        <li><a href="//telegram.org/dl/web">Web-browser</a></li>
      </ul>
    </div>
    <div class="footer_column footer_column_platform">
      <h5><a href="/">Platform</a></h5>
      <ul>
        <li><a href="/api">API</a></li>
        <li><a href="//translations.telegram.org/">Translations</a></li>
        <li><a href="//instantview.telegram.org/">Instant View</a></li>
      </ul>
    </div>
  </div>
  <div class="footer_columns_wrap footer_mobile">
    <div class="footer_column">
      <h5><a href="//telegram.org/faq">About</a></h5>
    </div>
    <div class="footer_column">
      <h5><a href="//telegram.org/blog">Blog</a></h5>
    </div>
    <div class="footer_column">
      <h5><a href="//telegram.org/press">Press</a></h5>
    </div>
    <div class="footer_column">
      <h5><a href="//telegram.org/moderation">Moderation</a></h5>
    </div>
  </div>
</div>
    </div>
    <script src="/js/main.js?47"></script>
    <script src="/js/jquery.min.js?1"></script>
<script src="/js/bootstrap.min.js?1"></script>

    <script>window.initDevPageNav&&initDevPageNav();
backToTopInit("Go up");
removePreloadInit();
</script>
  </body>
</html>

