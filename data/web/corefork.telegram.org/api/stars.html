<!DOCTYPE html>
<html class="">
  <head>
    <meta charset="utf-8">
    <title>Telegram Stars</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="description" content="Telegram Stars are virtual items that allow users to purchase digital goods and services from bots and mini apps inside the Telegram ecosystem, send gifts to content creators on the Telegram platform, and more.">
    <meta property="og:title" content="Telegram Stars">
    <meta property="og:image" content="">
    <meta property="og:description" content="Telegram Stars are virtual items that allow users to purchase digital goods and services from bots and mini apps inside the Telegram ecosystem, send gifts to content creators on the Telegram platform, and more.">
    <link rel="icon" type="image/svg+xml" href="/img/website_icon.svg?4">
<link rel="apple-touch-icon" sizes="180x180" href="/img/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/img/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/img/favicon-16x16.png">
<link rel="alternate icon" href="/img/favicon.ico" type="image/x-icon" />
    <link href="/css/bootstrap.min.css?3" rel="stylesheet">
    
    <link href="/css/telegram.css?247" rel="stylesheet" media="screen">
    <style>
    </style>
  </head>
  <body class="preload">
    <div class="dev_page_wrap">
      <div class="dev_page_head navbar navbar-static-top navbar-tg">
        <div class="navbar-inner">
          <div class="container clearfix">
            <ul class="nav navbar-nav navbar-right hidden-xs"><li class="navbar-twitter"><a href="https://twitter.com/telegram" target="_blank" data-track="Follow/Twitter" onclick="trackDlClick(this, event)"><i class="icon icon-twitter"></i><span> Twitter</span></a></li></ul>
            <ul class="nav navbar-nav">
              <li><a href="//telegram.org/">Home</a></li>
<li class="hidden-xs"><a href="//telegram.org/faq">FAQ</a></li>
<li class="hidden-xs"><a href="//telegram.org/apps">Apps</a></li>
<li class="active"><a href="/api">API</a></li>
<li class=""><a href="/mtproto">Protocol</a></li>
<li class=""><a href="/schema">Schema</a></li>
            </ul>
          </div>
        </div>
      </div>
      <div class="container clearfix">
        <div class="dev_page">
          <div id="dev_page_content_wrap" class=" ">
  <div class="dev_page_bread_crumbs"><ul class="breadcrumb clearfix"><li><a  href="/api" >API</a></li><i class="icon icon-breadcrumb-divider"></i><li><a  href="/api/stars" >Telegram Stars</a></li></ul></div>
  <h1 id="dev_page_title">Telegram Stars</h1>
  
  <div id="dev_page_content"><!-- scroll_nav -->

<p>Telegram Stars are virtual items that allow users to purchase digital goods and services from bots and mini apps inside the Telegram ecosystem, send gifts to content creators on the Telegram platform, and more.  </p>
<p>This page describes the methods used to buy, use and withdraw <a href="https://telegram.org/blog/mini-app-bar-paid-media-and-more#rewards-for-content-creators-and-developers">Telegram Stars</a>, as well as view detailed revenue stats and make purchases using Telegram Stars.  </p>
<p>Clients should disable Telegram Stars support for the current user if the <a href="/api/config#stars-purchase-blocked">stars_purchase_blocked field is equal to <code>true</code> »</a> due to regional limitations.  </p>
<h3><a class="anchor" href="#balance-and-transaction-history" id="balance-and-transaction-history" name="balance-and-transaction-history"><i class="anchor-icon"></i></a>Balance and transaction history</h3>
<pre><code><a href='/constructor/inputStarsTransaction'>inputStarsTransaction</a>#206ae6d1 flags:<a href='/type/%23'>#</a> refund:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.0?<a href='/constructor/true'>true</a> id:<a href='/type/string'>string</a> = <a href='/type/InputStarsTransaction'>InputStarsTransaction</a>;

<a href='/constructor/starsTransactionPeerAppStore'>starsTransactionPeerAppStore</a>#b457b375 = <a href='/type/StarsTransactionPeer'>StarsTransactionPeer</a>;
<a href='/constructor/starsTransactionPeerPlayMarket'>starsTransactionPeerPlayMarket</a>#7b560a0b = <a href='/type/StarsTransactionPeer'>StarsTransactionPeer</a>;
<a href='/constructor/starsTransactionPeerPremiumBot'>starsTransactionPeerPremiumBot</a>#250dbaf8 = <a href='/type/StarsTransactionPeer'>StarsTransactionPeer</a>;
<a href='/constructor/starsTransactionPeerFragment'>starsTransactionPeerFragment</a>#e92fd902 = <a href='/type/StarsTransactionPeer'>StarsTransactionPeer</a>;
<a href='/constructor/starsTransactionPeer'>starsTransactionPeer</a>#d80da15d peer:<a href='/type/Peer'>Peer</a> = <a href='/type/StarsTransactionPeer'>StarsTransactionPeer</a>;
<a href='/constructor/starsTransactionPeerAds'>starsTransactionPeerAds</a>#60682812 = <a href='/type/StarsTransactionPeer'>StarsTransactionPeer</a>;
<a href='/constructor/starsTransactionPeerUnsupported'>starsTransactionPeerUnsupported</a>#95f2bfe4 = <a href='/type/StarsTransactionPeer'>StarsTransactionPeer</a>;

<a href='/constructor/starsTransaction'>starsTransaction</a>#13659eb0 flags:<a href='/type/%23'>#</a> refund:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.3?<a href='/constructor/true'>true</a> pending:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.4?<a href='/constructor/true'>true</a> failed:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.6?<a href='/constructor/true'>true</a> gift:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.10?<a href='/constructor/true'>true</a> reaction:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.11?<a href='/constructor/true'>true</a> stargift_upgrade:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.18?<a href='/constructor/true'>true</a> business_transfer:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.21?<a href='/constructor/true'>true</a> stargift_resale:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.22?<a href='/constructor/true'>true</a> posts_search:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.24?<a href='/constructor/true'>true</a> stargift_prepaid_upgrade:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.25?<a href='/constructor/true'>true</a> id:<a href='/type/string'>string</a> amount:<a href='/type/StarsAmount'>StarsAmount</a> date:<a href='/type/int'>int</a> peer:<a href='/type/StarsTransactionPeer'>StarsTransactionPeer</a> title:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.0?<a href='/type/string'>string</a> description:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.1?<a href='/type/string'>string</a> photo:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.2?<a href='/type/WebDocument'>WebDocument</a> transaction_date:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.5?<a href='/type/int'>int</a> transaction_url:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.5?<a href='/type/string'>string</a> bot_payload:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.7?<a href='/type/bytes'>bytes</a> msg_id:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.8?<a href='/type/int'>int</a> extended_media:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.9?<a href='/type/Vector%20t'>Vector</a>&lt;<a href='/type/MessageMedia'>MessageMedia</a>&gt; subscription_period:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.12?<a href='/type/int'>int</a> giveaway_post_id:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.13?<a href='/type/int'>int</a> stargift:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.14?<a href='/type/StarGift'>StarGift</a> floodskip_number:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.15?<a href='/type/int'>int</a> starref_commission_permille:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.16?<a href='/type/int'>int</a> starref_peer:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.17?<a href='/type/Peer'>Peer</a> starref_amount:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.17?<a href='/type/StarsAmount'>StarsAmount</a> paid_messages:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.19?<a href='/type/int'>int</a> premium_gift_months:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.20?<a href='/type/int'>int</a> ads_proceeds_from_date:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.23?<a href='/type/int'>int</a> ads_proceeds_to_date:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.23?<a href='/type/int'>int</a> = <a href='/type/StarsTransaction'>StarsTransaction</a>;

<a href='/constructor/payments.starsStatus'>payments.starsStatus</a>#6c9ce8ed flags:<a href='/type/%23'>#</a> balance:<a href='/type/StarsAmount'>StarsAmount</a> subscriptions:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.1?<a href='/type/Vector%20t'>Vector</a>&lt;<a href='/type/StarsSubscription'>StarsSubscription</a>&gt; subscriptions_next_offset:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.2?<a href='/type/string'>string</a> subscriptions_missing_balance:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.4?<a href='/type/long'>long</a> history:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.3?<a href='/type/Vector%20t'>Vector</a>&lt;<a href='/type/StarsTransaction'>StarsTransaction</a>&gt; next_offset:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.0?<a href='/type/string'>string</a> chats:<a href='/type/Vector%20t'>Vector</a>&lt;<a href='/type/Chat'>Chat</a>&gt; users:<a href='/type/Vector%20t'>Vector</a>&lt;<a href='/type/User'>User</a>&gt; = <a href='/type/payments.StarsStatus'>payments.StarsStatus</a>;

<a href='/constructor/updateStarsBalance'>updateStarsBalance</a>#4e80a379 balance:<a href='/type/StarsAmount'>StarsAmount</a> = <a href='/type/Update'>Update</a>;

---functions---

<a href='/method/payments.getStarsStatus'>payments.getStarsStatus</a>#4ea9b3bf flags:<a href='/type/%23'>#</a> ton:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.0?<a href='/constructor/true'>true</a> peer:<a href='/type/InputPeer'>InputPeer</a> = <a href='/type/payments.StarsStatus'>payments.StarsStatus</a>;

<a href='/method/payments.getStarsTransactions'>payments.getStarsTransactions</a>#69da4557 flags:<a href='/type/%23'>#</a> inbound:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.0?<a href='/constructor/true'>true</a> outbound:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.1?<a href='/constructor/true'>true</a> ascending:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.2?<a href='/constructor/true'>true</a> ton:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.4?<a href='/constructor/true'>true</a> subscription_id:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.3?<a href='/type/string'>string</a> peer:<a href='/type/InputPeer'>InputPeer</a> offset:<a href='/type/string'>string</a> limit:<a href='/type/int'>int</a> = <a href='/type/payments.StarsStatus'>payments.StarsStatus</a>;

<a href='/method/payments.getStarsTransactionsByID'>payments.getStarsTransactionsByID</a>#2dca16b8 flags:<a href='/type/%23'>#</a> ton:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.0?<a href='/constructor/true'>true</a> peer:<a href='/type/InputPeer'>InputPeer</a> id:<a href='/type/Vector%20t'>Vector</a>&lt;<a href='/type/InputStarsTransaction'>InputStarsTransaction</a>&gt; = <a href='/type/payments.StarsStatus'>payments.StarsStatus</a>;</code></pre>
<p>Use <a href="/method/payments.getStarsStatus">payments.getStarsStatus</a> to get the current stars balance of the current account (with peer=<a href="/constructor/inputPeerSelf">inputPeerSelf</a>), or the stars balance of the bot or channel specified in <code>peer</code>.  </p>
<p>The channel/bot ad revenue transaction history and balance in <strong>nanotons</strong> (<code>1/1_000_000_000</code>th of a toncoin) may also be fetched by channel/bot admins by setting the <code>ton</code> flag of all methods listed above, if the <a href="/constructor/channelFull">channelFull</a>.<code>can_view_revenue</code>/<a href="/constructor/userFull">userFull</a>.<code>can_view_revenue</code> flag is set.  </p>
<p>The method will also return the last 5 <a href="/constructor/starsTransaction">star transactions »</a>.<br>
To return all <a href="/constructor/starsTransaction">star transactions »</a> (and optionally search using filters), use <a href="/method/payments.getStarsTransactions">payments.getStarsTransactions</a>, paginating through the transactions passing the returned <code>next_offset</code> (if set) to <code>offset</code> <a href="/api/offsets">as usual</a>.  </p>
<p><a href="/method/payments.getStarsTransactionsByID">payments.getStarsTransactionsByID</a> may be used to fetch info about specific Telegram Star transactions (or refunds) using their IDs, passed as <a href="/constructor/inputStarsTransaction">inputStarsTransaction</a> constructors.  </p>
<p>Changes in the star balance (through <a href="#buying-or-gifting-stars">topups</a> or <a href="#using-stars">purchases</a>) will be notified by the server via an <a href="/constructor/updateStarsBalance">updateStarsBalance</a> update.</p>
<h3><a class="anchor" href="#revenue-statistics" id="revenue-statistics" name="revenue-statistics"><i class="anchor-icon"></i></a>Revenue statistics</h3>
<pre><code><a href='/constructor/starsRevenueStatus'>starsRevenueStatus</a>#febe5491 flags:<a href='/type/%23'>#</a> withdrawal_enabled:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.0?<a href='/constructor/true'>true</a> current_balance:<a href='/type/StarsAmount'>StarsAmount</a> available_balance:<a href='/type/StarsAmount'>StarsAmount</a> overall_revenue:<a href='/type/StarsAmount'>StarsAmount</a> next_withdrawal_at:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.1?<a href='/type/int'>int</a> = <a href='/type/StarsRevenueStatus'>StarsRevenueStatus</a>;

<a href='/constructor/payments.starsRevenueStats'>payments.starsRevenueStats</a>#6c207376 flags:<a href='/type/%23'>#</a> top_hours_graph:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.0?<a href='/type/StatsGraph'>StatsGraph</a> revenue_graph:<a href='/type/StatsGraph'>StatsGraph</a> status:<a href='/type/StarsRevenueStatus'>StarsRevenueStatus</a> usd_rate:<a href='/type/double'>double</a> = <a href='/type/payments.StarsRevenueStats'>payments.StarsRevenueStats</a>;

<a href='/constructor/updateStarsRevenueStatus'>updateStarsRevenueStatus</a>#a584b019 peer:<a href='/type/Peer'>Peer</a> status:<a href='/type/StarsRevenueStatus'>StarsRevenueStatus</a> = <a href='/type/Update'>Update</a>;

---functions---

<a href='/method/payments.getStarsRevenueStats'>payments.getStarsRevenueStats</a>#d91ffad6 flags:<a href='/type/%23'>#</a> dark:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.0?<a href='/constructor/true'>true</a> ton:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.1?<a href='/constructor/true'>true</a> peer:<a href='/type/InputPeer'>InputPeer</a> = <a href='/type/payments.StarsRevenueStats'>payments.StarsRevenueStats</a>;</code></pre>
<p>Telegram Star revenue statistics may be fetched by bot owners, and by channel admins if the <a href="/constructor/channelFull">channelFull</a>.<code>can_view_stars_revenue</code> flag is set.  </p>
<p>Channel/bot ad revenue statistics in <strong>nanotons</strong> (<code>1/1_000_000_000</code>th of a toncoin) may be also fetched by channel/bot admins by setting the <code>ton</code> flag, if the <a href="/constructor/channelFull">channelFull</a>.<code>can_view_revenue</code>/<a href="/constructor/userFull">userFull</a>.<code>can_view_revenue</code> flag is set.  </p>
<p>Use <a href="/method/payments.getStarsRevenueStats">payments.getStarsRevenueStats</a> to fetch statistics about earned Telegram Stars/nanotons; the returned <a href="/type/StatsGraph">StatsGraph</a> graphs can be rendered <a href="/api/stats#graph-visualization">as described here »</a>.  </p>
<p>Specifically:</p>
<ul>
<li><code>revenue_graph</code> - Star revenue graph (number of earned stars)</li>
<li><code>status</code> - Current balance, current withdrawable balance and overall earned Telegram Stars</li>
<li><code>usd_rate</code> - Current conversion rate of Telegram Stars to USD</li>
<li><code>top_hours_graph</code> - Ad impressions graph, for channel/bot ad revenue statistics</li>
</ul>
<p>The server will emit an <a href="/constructor/updateStarsRevenueStatus">updateStarsRevenueStatus</a> every time the balance changes; if the client is currently in the Monetization tab of the channel or bot, this update should apply the new balances (contained in the update), and refresh the transaction list using <a href="/method/payments.getStarsTransactions">payments.getStarsTransactions</a> as specified <a href="#balance-and-transaction-history">here »</a>.  </p>
<h3><a class="anchor" href="#buying-or-gifting-stars" id="buying-or-gifting-stars" name="buying-or-gifting-stars"><i class="anchor-icon"></i></a>Buying or gifting stars</h3>
<pre><code><a href='/constructor/starsTopupOption'>starsTopupOption</a>#bd915c0 flags:<a href='/type/%23'>#</a> extended:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.1?<a href='/constructor/true'>true</a> stars:<a href='/type/long'>long</a> store_product:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.0?<a href='/type/string'>string</a> currency:<a href='/type/string'>string</a> amount:<a href='/type/long'>long</a> = <a href='/type/StarsTopupOption'>StarsTopupOption</a>;

<a href='/constructor/starsGiftOption'>starsGiftOption</a>#5e0589f1 flags:<a href='/type/%23'>#</a> extended:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.1?<a href='/constructor/true'>true</a> stars:<a href='/type/long'>long</a> store_product:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.0?<a href='/type/string'>string</a> currency:<a href='/type/string'>string</a> amount:<a href='/type/long'>long</a> = <a href='/type/StarsGiftOption'>StarsGiftOption</a>;

<a href='/constructor/inputStorePaymentStarsTopup'>inputStorePaymentStarsTopup</a>#f9a2a6cb flags:<a href='/type/%23'>#</a> stars:<a href='/type/long'>long</a> currency:<a href='/type/string'>string</a> amount:<a href='/type/long'>long</a> spend_purpose_peer:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.0?<a href='/type/InputPeer'>InputPeer</a> = <a href='/type/InputStorePaymentPurpose'>InputStorePaymentPurpose</a>;
<a href='/constructor/inputStorePaymentStarsGift'>inputStorePaymentStarsGift</a>#1d741ef7 user_id:<a href='/type/InputUser'>InputUser</a> stars:<a href='/type/long'>long</a> currency:<a href='/type/string'>string</a> amount:<a href='/type/long'>long</a> = <a href='/type/InputStorePaymentPurpose'>InputStorePaymentPurpose</a>;

<a href='/constructor/inputInvoiceStars'>inputInvoiceStars</a>#65f00ce3 purpose:<a href='/type/InputStorePaymentPurpose'>InputStorePaymentPurpose</a> = <a href='/type/InputInvoice'>InputInvoice</a>;

---functions---

<a href='/method/payments.getStarsTopupOptions'>payments.getStarsTopupOptions</a>#c00ec7d3 = <a href='/type/Vector%20t'>Vector</a>&lt;<a href='/type/StarsTopupOption'>StarsTopupOption</a>&gt;;

<a href='/method/payments.getStarsGiftOptions'>payments.getStarsGiftOptions</a>#d3c96bc8 flags:<a href='/type/%23'>#</a> user_id:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.0?<a href='/type/InputUser'>InputUser</a> = <a href='/type/Vector%20t'>Vector</a>&lt;<a href='/type/StarsGiftOption'>StarsGiftOption</a>&gt;;</code></pre>
<p>To purchase telegram stars for ourselves, first invoke the <a href="/method/payments.getStarsTopupOptions">payments.getStarsTopupOptions</a> method, to obtain a list of topup options as <a href="/constructor/starsTopupOption">starsTopupOption</a> constructors.  </p>
<p>To purchase telegram stars for a friend, first invoke the <a href="/method/payments.getStarsGiftOptions">payments.getStarsGiftOptions</a> method, to obtain a list of gift options as <a href="/constructor/starsGiftOption">starsGiftOption</a> constructors.  </p>
<p><strong>Note</strong>: Star gifting functionality should only be enabled if the <a href="/api/config#stars-gifts-enabled">stars_gifts_enabled »</a> flag is equal to true.  </p>
<p>Once the user has chosen a specific star topup/gift option, invoke <a href="/method/payments.getPaymentForm">payments.getPaymentForm</a>, passing an <a href="/constructor/inputInvoiceStars">inputInvoiceStars</a>, with either <a href="/constructor/inputStorePaymentStarsTopup">inputStorePaymentStarsTopup</a> or <a href="/constructor/inputStorePaymentStarsGift">inputStorePaymentStarsGift</a>, populated with the values from the chosen <a href="/constructor/starsTopupOption">starsTopupOption</a>/<a href="/constructor/starsGiftOption">starsGiftOption</a>.</p>
<p>The <code>spend_purpose_peer</code> of <a href="/constructor/inputStorePaymentStarsTopup">inputStorePaymentStarsTopup »</a> should be populated with the peer where the topup process was initiated due to low funds (i.e. a bot for bot payments, a channel for paid media/reactions, etc); leave this flag unpopulated if the topup flow was not initated when attempting to spend more Stars than currently available on the account's balance.  </p>
<p>Then, follow the <a href="/api/payments#22-getting-invoice-info-about-the-product">invoice payment flow as described in the payments documentation »</a>.  </p>
<p>More alternative payment flows are also available:</p>
<ul>
<li>Payment via <a href="https://fragment.com">Fragment</a>, which also allows making larger purchases.</li>
<li>The store-based subscription flow based on <a href="/method/payments.assignAppStoreTransaction">payments.assignAppStoreTransaction</a>/<a href="/method/payments.assignPlayMarketTransaction">payments.assignPlayMarketTransaction</a>, currently not available to third-party apps.  </li>
</ul>
<p>For gifts, once the payment is successfully processed, the user to which the gift was sent will automatically receive a <a href="/constructor/messageService">messageService</a> from the user that sent the gift, containing a <a href="/constructor/messageActionGiftStars">messageActionGiftStars</a> constructor with further info about the price and duration of the gifted Telegram Stars.<br>
Clients should display this message, along with a sticker from the <a href="/constructor/inputStickerSetPremiumGifts">inputStickerSetPremiumGifts</a> <a href="/api/stickers">stickerset</a>: here's an <a href="https://telegram.org/blog/w3-browser-mini-app-store#gifting-stars-to-friends">example</a>.  </p>
<p>The price in US dollars of 1000 Telegram Stars can be fetched using the <a href="/api/config#stars-usd-sell-rate-x1000"><code>stars_usd_sell_rate_x1000</code> config parameter »</a>.</p>
<p>The Star topup page should also be activated, if <a href="/api/links#stars-topup-link">some conditions</a> are met, when the user clicks on a <a href="/api/links#stars-topup-link">topup deep link »</a>.  </p>
<h3><a class="anchor" href="#star-rating" id="star-rating" name="star-rating"><i class="anchor-icon"></i></a>Star rating</h3>
<pre><code><a href='/constructor/starsRating'>starsRating</a>#1b0e4f07 flags:<a href='/type/%23'>#</a> level:<a href='/type/int'>int</a> current_level_stars:<a href='/type/long'>long</a> stars:<a href='/type/long'>long</a> next_level_stars:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.0?<a href='/type/long'>long</a> = <a href='/type/StarsRating'>StarsRating</a>;

<a href='/constructor/userFull'>userFull</a>#c577b5ad flags:<a href='/type/%23'>#</a> blocked:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.0?<a href='/constructor/true'>true</a> phone_calls_available:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.4?<a href='/constructor/true'>true</a> phone_calls_private:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.5?<a href='/constructor/true'>true</a> can_pin_message:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.7?<a href='/constructor/true'>true</a> has_scheduled:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.12?<a href='/constructor/true'>true</a> video_calls_available:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.13?<a href='/constructor/true'>true</a> voice_messages_forbidden:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.20?<a href='/constructor/true'>true</a> translations_disabled:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.23?<a href='/constructor/true'>true</a> stories_pinned_available:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.26?<a href='/constructor/true'>true</a> blocked_my_stories_from:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.27?<a href='/constructor/true'>true</a> wallpaper_overridden:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.28?<a href='/constructor/true'>true</a> contact_require_premium:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.29?<a href='/constructor/true'>true</a> read_dates_private:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.30?<a href='/constructor/true'>true</a> flags2:<a href='/type/%23'>#</a> sponsored_enabled:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.7?<a href='/constructor/true'>true</a> can_view_revenue:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.9?<a href='/constructor/true'>true</a> bot_can_manage_emoji_status:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.10?<a href='/constructor/true'>true</a> display_gifts_button:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.16?<a href='/constructor/true'>true</a> id:<a href='/type/long'>long</a> about:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.1?<a href='/type/string'>string</a> settings:<a href='/type/PeerSettings'>PeerSettings</a> personal_photo:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.21?<a href='/type/Photo'>Photo</a> profile_photo:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.2?<a href='/type/Photo'>Photo</a> fallback_photo:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.22?<a href='/type/Photo'>Photo</a> notify_settings:<a href='/type/PeerNotifySettings'>PeerNotifySettings</a> bot_info:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.3?<a href='/type/BotInfo'>BotInfo</a> pinned_msg_id:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.6?<a href='/type/int'>int</a> common_chats_count:<a href='/type/int'>int</a> folder_id:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.11?<a href='/type/int'>int</a> ttl_period:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.14?<a href='/type/int'>int</a> theme:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.15?<a href='/type/ChatTheme'>ChatTheme</a> private_forward_name:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.16?<a href='/type/string'>string</a> bot_group_admin_rights:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.17?<a href='/type/ChatAdminRights'>ChatAdminRights</a> bot_broadcast_admin_rights:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.18?<a href='/type/ChatAdminRights'>ChatAdminRights</a> wallpaper:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.24?<a href='/type/WallPaper'>WallPaper</a> stories:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.25?<a href='/type/PeerStories'>PeerStories</a> business_work_hours:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.0?<a href='/type/BusinessWorkHours'>BusinessWorkHours</a> business_location:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.1?<a href='/type/BusinessLocation'>BusinessLocation</a> business_greeting_message:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.2?<a href='/type/BusinessGreetingMessage'>BusinessGreetingMessage</a> business_away_message:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.3?<a href='/type/BusinessAwayMessage'>BusinessAwayMessage</a> business_intro:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.4?<a href='/type/BusinessIntro'>BusinessIntro</a> birthday:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.5?<a href='/type/Birthday'>Birthday</a> personal_channel_id:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.6?<a href='/type/long'>long</a> personal_channel_message:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.6?<a href='/type/int'>int</a> stargifts_count:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.8?<a href='/type/int'>int</a> starref_program:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.11?<a href='/type/StarRefProgram'>StarRefProgram</a> bot_verification:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.12?<a href='/type/BotVerification'>BotVerification</a> send_paid_messages_stars:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.14?<a href='/type/long'>long</a> disallowed_gifts:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.15?<a href='/type/DisallowedGiftsSettings'>DisallowedGiftsSettings</a> stars_rating:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.17?<a href='/type/StarsRating'>StarsRating</a> stars_my_pending_rating:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.18?<a href='/type/StarsRating'>StarsRating</a> stars_my_pending_rating_date:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.18?<a href='/type/int'>int</a> main_tab:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.20?<a href='/type/ProfileTab'>ProfileTab</a> saved_music:<a href='/mtproto/TL-combinators#conditional-fields'>flags2</a>.21?<a href='/type/Document'>Document</a> = <a href='/type/UserFull'>UserFull</a>;</code></pre>
<p>Telegram profiles now show a badge with a numerical rating based on the total volume of successful transactions they've made with Telegram Stars.  </p>
<p>It highlights your Telegram level and helps channel owners see that you can be trusted for Suggested Posts and other requests.</p>
<p>Purchasing <a href="#star-gifts">gifts</a>, sending <a href="#paid-messages">Paid Messages</a> and funding <a href="#suggested-posts">Suggested Posts</a> with Stars increases your rating. However, if you refund Star purchases or <a href="/api/gifts">convert gifts to Stars</a> your rating will decrease.  </p>
<p>The rating is contained in the <a href="/constructor/starsRating">starsRating</a> constructor, from <a href="/constructor/userFull">userFull</a>.<code>stars_rating</code>.  </p>
<p>A star rating is represented by the <code>level</code> (a possibly negative integer) and a <code>rating</code> (a possibly negative integer): the user can level up or level down by reaching certain thresholds in the <code>rating</code>.  </p>
<p>We may also see the pending star rating in <a href="/constructor/userFull">userFull</a>.<code>stars_my_pending_rating</code> only for ourselves, which will be applied at <a href="/constructor/userFull">userFull</a>.<code>stars_my_pending_rating_date</code>.  </p>
<p><a href="/api/config#stars-rating-learnmore-url">stars_rating_learnmore_url</a> will contain a URL that can be shown to users, leading to a page with more info about the Star Rating system.  </p>
<h3><a class="anchor" href="#using-stars" id="using-stars" name="using-stars"><i class="anchor-icon"></i></a>Using stars</h3>
<pre><code><a href='/constructor/payments.paymentFormStars'>payments.paymentFormStars</a>#7bf6b15c flags:<a href='/type/%23'>#</a> form_id:<a href='/type/long'>long</a> bot_id:<a href='/type/long'>long</a> title:<a href='/type/string'>string</a> description:<a href='/type/string'>string</a> photo:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.5?<a href='/type/WebDocument'>WebDocument</a> invoice:<a href='/type/Invoice'>Invoice</a> users:<a href='/type/Vector%20t'>Vector</a>&lt;<a href='/type/User'>User</a>&gt; = <a href='/type/payments.PaymentForm'>payments.PaymentForm</a>;

<a href='/constructor/payments.paymentReceiptStars'>payments.paymentReceiptStars</a>#dabbf83a flags:<a href='/type/%23'>#</a> date:<a href='/type/int'>int</a> bot_id:<a href='/type/long'>long</a> title:<a href='/type/string'>string</a> description:<a href='/type/string'>string</a> photo:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.2?<a href='/type/WebDocument'>WebDocument</a> invoice:<a href='/type/Invoice'>Invoice</a> currency:<a href='/type/string'>string</a> total_amount:<a href='/type/long'>long</a> transaction_id:<a href='/type/string'>string</a> users:<a href='/type/Vector%20t'>Vector</a>&lt;<a href='/type/User'>User</a>&gt; = <a href='/type/payments.PaymentReceipt'>payments.PaymentReceipt</a>;

---functions---

<a href='/method/payments.sendStarsForm'>payments.sendStarsForm</a>#7998c914 form_id:<a href='/type/long'>long</a> invoice:<a href='/type/InputInvoice'>InputInvoice</a> = <a href='/type/payments.PaymentResult'>payments.PaymentResult</a>;

<a href='/method/payments.refundStarsCharge'>payments.refundStarsCharge</a>#25ae8f4a user_id:<a href='/type/InputUser'>InputUser</a> charge_id:<a href='/type/string'>string</a> = <a href='/type/Updates'>Updates</a>;</code></pre>
<p>The full flow to follow to make purchases using Telegram Stars is described along the traditional payment flow in the <a href="/api/payments">payments documentation »</a>: all invoices and constructors working with currency amounts will use the currency code <code>XTR</code>, and the amounts will be in Telegram Stars.  </p>
<h4><a class="anchor" href="#paid-media" id="paid-media" name="paid-media"><i class="anchor-icon"></i></a>Paid media</h4>
<p>Telegram Stars are used to pay for <a href="/api/paid-media">paid media</a>, which may be posted on channels by administrators as specified <a href="/api/paid-media">here »</a>.  </p>
<p>Purchasing paid media will transfer Telegram Stars to the channel's balance.<br>
Channel owners can then <a href="#withdrawing-revenue">withdraw Stars as Toncoin »</a>, or <a href="#paying-for-ads">use Stars to place ads for the channel »</a>.  </p>
<p><a href="#revenue-statistics">Star revenue statistics</a> and <a href="#balance-and-transaction-history">balance information</a> is also available to channel owners.  </p>
<h4><a class="anchor" href="#paid-messages" id="paid-messages" name="paid-messages"><i class="anchor-icon"></i></a>Paid messages</h4>
<p>Telegram Stars can be used to pay for sending messages to users and channels that have configured <a href="/api/paid-messages">paid messages »</a>, requiring a payment for every message sent to them.  </p>
<p>Purchasing paid media will transfer Telegram Stars to the balance of the channel or the user.  </p>
<h4><a class="anchor" href="#paid-reactions" id="paid-reactions" name="paid-reactions"><i class="anchor-icon"></i></a>Paid reactions</h4>
<p>Users can now directly support their favorite channels and content creators by sending them Telegram Stars using a new Star reaction.</p>
<p>Channel owners receive 100% of the stars — and can convert them into Toncoin cryptocurrency rewards or subsidized ads.</p>
<p>See <a href="/api/reactions#paid-reactions">here »</a> for the full flow.</p>
<h4><a class="anchor" href="#suggested-posts" id="suggested-posts" name="suggested-posts"><i class="anchor-icon"></i></a>Suggested posts</h4>
<p>Telegram offers a powerful monetization feature to channel administrators: <strong>suggested posts</strong>.  </p>
<p>See <a href="/api/suggested-posts">here »</a> for the full flow.</p>
<h4><a class="anchor" href="#bot-payments" id="bot-payments" name="bot-payments"><i class="anchor-icon"></i></a>Bot payments</h4>
<p>Telegram Stars are also used to pay for digital services in bots, using <a href="/constructor/keyboardButtonBuy">keyboardButtonBuy</a> and <a href="/api/payments">the usual payment flow »</a>, with <code>currency="XTR"</code>.  </p>
<p>Purchasing paid media will transfer Telegram Stars to the bot's balance.<br>
Bot owners can then <a href="#withdrawing-revenue">withdraw Stars as Toncoin »</a>, or <a href="#paying-for-ads">use Stars to place ads for the channel »</a>.  </p>
<p><a href="#revenue-statistics">Star revenue statistics</a> and <a href="#balance-and-transaction-history">balance information</a> is also available to bot owners.  </p>
<h4><a class="anchor" href="#star-referrals" id="star-referrals" name="star-referrals"><i class="anchor-icon"></i></a>Star referrals</h4>
<p>Developers can open affiliate programs for their <a href="/api/bots/webapps">mini app</a> – allowing <strong>content creators</strong>, other <strong>mini app developers</strong> and <strong>any Telegram user</strong> to promote it and earn commissions on purchases made by people they referred.</p>
<p>See <a href="/api/bots/referrals">here »</a> for more info on the full flow. </p>
<h4><a class="anchor" href="#star-subscriptions" id="star-subscriptions" name="star-subscriptions"><i class="anchor-icon"></i></a>Star subscriptions</h4>
<p>Bots and channels may create subscriptions, periodically charging users a certain amount of <a href="/api/stars">Telegram Stars</a> in exchange for content and services.</p>
<p>See <a href="/api/subscriptions">here »</a> for the full flow.  </p>
<h4><a class="anchor" href="#star-giveaways" id="star-giveaways" name="star-giveaways"><i class="anchor-icon"></i></a>Star giveaways</h4>
<p>Star giveaways are similar to <a href="/api/giveaways#giveaways-and-giftcodes">normal giveaways</a>, with the only difference that instead of giving away gifts or <a href="/api/premium">Telegram Premium subscriptions</a>, the giveaway will automatically distribute Telegram Stars among the winners.</p>
<p>See <a href="/api/giveaways#star-giveaways">here »</a> for the full flow.  </p>
<h4><a class="anchor" href="#star-gifts" id="star-gifts" name="star-gifts"><i class="anchor-icon"></i></a>Star gifts</h4>
<p>Users can send <strong>Gifts</strong> to their friends. The recipients of gifts can display them on their profile pages or turn them into Telegram Stars. </p>
<p>See <a href="/api/gifts">here »</a> for the full flow.  </p>
<h3><a class="anchor" href="#withdrawing-revenue" id="withdrawing-revenue" name="withdrawing-revenue"><i class="anchor-icon"></i></a>Withdrawing revenue</h3>
<pre><code><a href='/constructor/payments.starsRevenueWithdrawalUrl'>payments.starsRevenueWithdrawalUrl</a>#1dab80b7 url:<a href='/type/string'>string</a> = <a href='/type/payments.StarsRevenueWithdrawalUrl'>payments.StarsRevenueWithdrawalUrl</a>;
---functions---

<a href='/method/payments.getStarsRevenueWithdrawalUrl'>payments.getStarsRevenueWithdrawalUrl</a>#2433dc92 flags:<a href='/type/%23'>#</a> ton:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.0?<a href='/constructor/true'>true</a> peer:<a href='/type/InputPeer'>InputPeer</a> amount:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.1?<a href='/type/long'>long</a> password:<a href='/type/InputCheckPasswordSRP'>InputCheckPasswordSRP</a> = <a href='/type/payments.StarsRevenueWithdrawalUrl'>payments.StarsRevenueWithdrawalUrl</a>;</code></pre>
<p>To withdraw funds from the star balance of a channel or bot we own, invoke <a href="/method/payments.getStarsRevenueWithdrawalUrl">payments.getStarsRevenueWithdrawalUrl</a>, passing the current account's <a href="/api/srp">2FA password</a> as an <a href="/type/InputCheckPasswordSRP">InputCheckPasswordSRP</a> constructor, generated <a href="/api/srp">as specified here »</a>.  </p>
<p>To withdraw a channel/bot's ad revenue, invoke the same method in the same manner, while also setting the <code>ton</code> flag.  </p>
<p>Only the channel/bot owner can invoke this method, and only if the balance is bigger than or equal to <a href="/api/config#stars-revenue-withdrawal-min">stars_revenue_withdrawal_min »</a> and the <code>status.withdrawal_enabled</code> flag returned by <a href="/method/payments.getStarsRevenueStats">payments.getStarsRevenueStats</a> is set.  </p>
<p><a href="/api/config#stars-revenue-withdrawal-max">stars_revenue_withdrawal_max »</a> specifies the maximum amount of <a href="/api/stars">Telegram Stars</a> that can be <a href="/api/stars#withdrawing-revenue">withdrawn »</a> from a channel or bot's balance.<br>
To withdraw more stars, restart the withdrawal process.</p>
<p>The method will return a unique URL to a <a href="https://fragment.com/">Fragment</a> page where the user will be able to specify and submit the address of the TON wallet where the funds will be sent.  </p>
<p>By withdrawing one thousand stars, the user will receive the equivalent of <a href="/api/config#stars-usd-withdraw-rate-x1000"><code>stars_usd_withdraw_rate_x1000</code> US dollars, as specified by the client configuration »</a>.  </p>
<h3><a class="anchor" href="#paying-for-ads" id="paying-for-ads" name="paying-for-ads"><i class="anchor-icon"></i></a>Paying for ads</h3>
<pre><code><a href='/constructor/starsTransactionPeerAds'>starsTransactionPeerAds</a>#60682812 = <a href='/type/StarsTransactionPeer'>StarsTransactionPeer</a>;

<a href='/constructor/payments.starsRevenueAdsAccountUrl'>payments.starsRevenueAdsAccountUrl</a>#394e7f21 url:<a href='/type/string'>string</a> = <a href='/type/payments.StarsRevenueAdsAccountUrl'>payments.StarsRevenueAdsAccountUrl</a>;

---functions---

<a href='/method/payments.getStarsRevenueAdsAccountUrl'>payments.getStarsRevenueAdsAccountUrl</a>#d1d7efc5 peer:<a href='/type/InputPeer'>InputPeer</a> = <a href='/type/payments.StarsRevenueAdsAccountUrl'>payments.StarsRevenueAdsAccountUrl</a>;</code></pre>
<p>Channel/bot owners may place Telegram advertisements for channels/bots they own using the Telegram Ad platform, paying using the <strong>Stars</strong> currently available on the bot/channel's balance at a special rate with a <strong>30% discount</strong> – creating a <strong>cost-effective</strong> way of reaching new users.  </p>
<p>To use Stars for ads, go to your bot's or channels' Balance or Monetization section and tap '<em>Buy Ads</em>'.<br>
Clicking on the button should invoke <a href="/method/payments.getStarsRevenueAdsAccountUrl">payments.getStarsRevenueAdsAccountUrl</a> (passing the bot/channel in <code>peer</code>).<br>
The returned <code>url</code> will lead to a page where the user will be able to place ads for the channel/bot passed in <code>peer</code>.  </p>
<p><a href="#balance-and-transaction-history">Transactions</a> for ad payments will be of type <a href="/constructor/starsTransactionPeerAds">starsTransactionPeerAds</a>.  </p>
<h3><a class="anchor" href="#transferring-stars-from-a-business-account-to-the-business-bot" id="transferring-stars-from-a-business-account-to-the-business-bot" name="transferring-stars-from-a-business-account-to-the-business-bot"><i class="anchor-icon"></i></a>Transferring stars from a business account to the business bot</h3>
<pre><code><a href='/constructor/inputInvoiceBusinessBotTransferStars'>inputInvoiceBusinessBotTransferStars</a>#f4997e42 bot:<a href='/type/InputUser'>InputUser</a> stars:<a href='/type/long'>long</a> = <a href='/type/InputInvoice'>InputInvoice</a>;

<a href='/constructor/payments.starsStatus'>payments.starsStatus</a>#6c9ce8ed flags:<a href='/type/%23'>#</a> balance:<a href='/type/StarsAmount'>StarsAmount</a> subscriptions:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.1?<a href='/type/Vector%20t'>Vector</a>&lt;<a href='/type/StarsSubscription'>StarsSubscription</a>&gt; subscriptions_next_offset:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.2?<a href='/type/string'>string</a> subscriptions_missing_balance:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.4?<a href='/type/long'>long</a> history:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.3?<a href='/type/Vector%20t'>Vector</a>&lt;<a href='/type/StarsTransaction'>StarsTransaction</a>&gt; next_offset:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.0?<a href='/type/string'>string</a> chats:<a href='/type/Vector%20t'>Vector</a>&lt;<a href='/type/Chat'>Chat</a>&gt; users:<a href='/type/Vector%20t'>Vector</a>&lt;<a href='/type/User'>User</a>&gt; = <a href='/type/payments.StarsStatus'>payments.StarsStatus</a>;

---functions---

<a href='/method/payments.getStarsStatus'>payments.getStarsStatus</a>#4ea9b3bf flags:<a href='/type/%23'>#</a> ton:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.0?<a href='/constructor/true'>true</a> peer:<a href='/type/InputPeer'>InputPeer</a> = <a href='/type/payments.StarsStatus'>payments.StarsStatus</a>;</code></pre>
<p><a href="/constructor/inputInvoiceBusinessBotTransferStars">inputInvoiceBusinessBotTransferStars</a> may be used to transfer stars from the balance of a user account <a href="/api/bots/connected-business-bots">connected to a business bot</a>, to the balance of the business bot.  </p>
<p>The number of available stars on the user's balance may be fetched by invoking <a href="/method/payments.getStarsStatus">payments.getStarsStatus</a> with peer=<a href="/constructor/inputPeerSelf">inputPeerSelf</a> over the business connection.  </p>
<p>To transfer the stars, invoke <a href="/method/payments.getPaymentForm">payments.getPaymentForm</a> with <a href="/constructor/inputInvoiceBusinessBotTransferStars">inputInvoiceBusinessBotTransferStars</a> (with <code>bot</code>=<a href="/constructor/inputPeerSelf">inputPeerSelf</a>), and follow the usual <a href="/api/payments#22-getting-invoice-info-about-the-product">payment flow »</a>, <strong>with all method calls executed over the business connection</strong>.  </p>
<h3><a class="anchor" href="#my-stars-deep-links" id="my-stars-deep-links" name="my-stars-deep-links"><i class="anchor-icon"></i></a>My Stars deep links</h3>
<p><a href="/api/links#my-stars-links">My Stars deep links »</a> and <a href="/api/links#my-toncoins-links">my Toncoin deep links »</a> can be used to bring the user to the My Stars/My Toncoin page, containing the topup button, the Star/TON transaction history, statistics, and much more, as specified in the above sections.    </p>
<h3><a class="anchor" href="#toncoin" id="toncoin" name="toncoin"><i class="anchor-icon"></i></a>Toncoin</h3>
<pre><code><a href='/constructor/starsTonAmount'>starsTonAmount</a>#74aee3e0 amount:<a href='/type/long'>long</a> = <a href='/type/StarsAmount'>StarsAmount</a>;

<a href='/constructor/messageActionGiftTon'>messageActionGiftTon</a>#a8a3c699 flags:<a href='/type/%23'>#</a> currency:<a href='/type/string'>string</a> amount:<a href='/type/long'>long</a> crypto_currency:<a href='/type/string'>string</a> crypto_amount:<a href='/type/long'>long</a> transaction_id:<a href='/mtproto/TL-combinators#conditional-fields'>flags</a>.0?<a href='/type/string'>string</a> = <a href='/type/MessageAction'>MessageAction</a>;

<a href='/constructor/inputStickerSetTonGifts'>inputStickerSetTonGifts</a>#1cf671a0 = <a href='/type/InputStickerSet'>InputStickerSet</a>;</code></pre>
<p>In some places in the API, it's possible to use toncoins instead of Stars: in this case, a <a href="/constructor/starsTonAmount">starsTonAmount</a> constructor will be used instead of <a href="/constructor/starsAmount">starsAmount</a>, specifying an amount of TONs in the smallest unit of the cryptocurrency, currently <em>nanotons</em>, <code>1/1_000_000_000</code>th (a billionth) of a toncoin.  </p>
<p>When TONs are gifted to the user, a <a href="/constructor/messageActionGiftTon">messageActionGiftTon</a> is received: this constructor, along with its contents, should be displayed next to the appropriate sticker from the <a href="/constructor/inputStickerSetTonGifts">inputStickerSetTonGifts »</a> <a href="/api/stickers#stickersets">stickerset »</a>:</p>
<ul>
<li>If <code>crypto_amount &lt;= 10_000_000_000</code>, choose the sticker with emoji equal to "<img class="emoji" src="//telegram.org/img/emoji/40/32E283A3.png" width="20" height="20" alt="2️⃣" />"</li>
<li>If <code>crypto_amount &lt;= 50_000_000_000</code>, choose the sticker with emoji equal to "<img class="emoji" src="//telegram.org/img/emoji/40/31E283A3.png" width="20" height="20" alt="1️⃣" />"</li>
<li>Otherwise, choose the sticker with emoji equal to "<img class="emoji" src="//telegram.org/img/emoji/40/33E283A3.png" width="20" height="20" alt="3️⃣" />"</li>
</ul></div>
  
</div>
          
        </div>
      </div>
      <div class="footer_wrap">
  <div class="footer_columns_wrap footer_desktop">
    <div class="footer_column footer_column_telegram">
      <h5>Telegram</h5>
      <div class="footer_telegram_description"></div>
      Telegram is a cloud-based mobile and desktop messaging app with a focus on security and speed.
    </div>

    <div class="footer_column">
      <h5><a href="//telegram.org/faq">About</a></h5>
      <ul>
        <li><a href="//telegram.org/faq">FAQ</a></li>
        <li><a href="//telegram.org/privacy">Privacy</a></li>
        <li><a href="//telegram.org/press">Press</a></li>
      </ul>
    </div>
    <div class="footer_column">
      <h5><a href="//telegram.org/apps#mobile-apps">Mobile Apps</a></h5>
      <ul>
        <li><a href="//telegram.org/dl/ios">iPhone/iPad</a></li>
        <li><a href="//telegram.org/android">Android</a></li>
        <li><a href="//telegram.org/dl/web">Mobile Web</a></li>
      </ul>
    </div>
    <div class="footer_column">
      <h5><a href="//telegram.org/apps#desktop-apps">Desktop Apps</a></h5>
      <ul>
        <li><a href="//desktop.telegram.org/">PC/Mac/Linux</a></li>
        <li><a href="//macos.telegram.org/">macOS</a></li>
        <li><a href="//telegram.org/dl/web">Web-browser</a></li>
      </ul>
    </div>
    <div class="footer_column footer_column_platform">
      <h5><a href="//core.telegram.org/">Platform</a></h5>
      <ul>
        <li><a href="//core.telegram.org/api">API</a></li>
        <li><a href="//translations.telegram.org/">Translations</a></li>
        <li><a href="//instantview.telegram.org/">Instant View</a></li>
      </ul>
    </div>
  </div>
  <div class="footer_columns_wrap footer_mobile">
    <div class="footer_column">
      <h5><a href="//telegram.org/faq">About</a></h5>
    </div>
    <div class="footer_column">
      <h5><a href="//telegram.org/blog">Blog</a></h5>
    </div>
    <div class="footer_column">
      <h5><a href="//telegram.org/press">Press</a></h5>
    </div>
    <div class="footer_column">
      <h5><a href="//telegram.org/moderation">Moderation</a></h5>
    </div>
  </div>
</div>
    </div>
    <script src="/js/main.js?47"></script>
    <script src="/js/jquery.min.js?1"></script>
<script src="/js/bootstrap.min.js?1"></script>

    <script>window.initDevPageNav&&initDevPageNav();
backToTopInit("Go up");
removePreloadInit();
</script>
  </body>
</html>

